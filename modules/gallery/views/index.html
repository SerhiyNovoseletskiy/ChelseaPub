<style>
    #container{
        position:relative;
        width:1100px;
        margin:0 auto 25px;
        padding-bottom: 10px;

    }
    .grid{
        width:300px;
        min-height:100px;
        padding: 15px;
        background:#fff;
        margin:8px;
        font-size:12px;
        float:left;
        box-shadow: 0 1px 3px rgba(34,25,25,0.4);
        -moz-box-shadow: 0 1px 3px rgba(34,25,25,0.4);
        -webkit-box-shadow: 0 1px 3px rgba(34,25,25,0.4);

        -webkit-transition: top 1s ease, left 1s ease;
        -moz-transition: top 1s ease, left 1s ease;
        -o-transition: top 1s ease, left 1s ease;
        -ms-transition: top 1s ease, left 1s ease;
    }

    .grid strong {
        margin:10px 0;
        display:block;
        padding:0 0 5px;
        font-size:17px;
    }
    .grid .meta{
        text-align:right;
        color:#777;
        font-style:italic;
    }
    .grid .imgholder img{
        max-width:100%;
        background:#ccc;
        display:block;
    }

    @media screen and (max-width : 1240px) {
        body{
            overflow:auto;
        }
    }
    @media screen and (max-width : 900px) {
        #backlinks{
            float:none;
            clear:both;
        }
        #backlinks a{
            display:inline-block;
            padding-right:20px;
        }
        #wrapper{
            margin-top:90px;
        }
    }

    img {
        max-width: 100%;
    }
</style>

<script src="/modules/gallery/views/dist/remodal.js"></script>
<script>
    $(document).ready(function () {

        //blocksit define
        $(window).load(function () {
            $('#container').BlocksIt({
                numOfCol: 4,
                offsetX: 8,
                offsetY: 8
            });
        });

        //window resize
        var currentWidth = 1100;
        $(window).resize(function () {
            var winWidth = $(window).width();
            var conWidth;
            if (winWidth < 660) {
                conWidth = 440;
                col = 2
            } else if (winWidth < 880) {
                conWidth = 660;
                col = 2
            } else if (winWidth < 1100) {
                conWidth = 880;
                col = 2;
            } else {
                conWidth = 1100;
                col = 2;
            }

            if (conWidth != currentWidth) {
                currentWidth = conWidth;
                $('#container').width(conWidth);
                $('#container').BlocksIt({
                    numOfCol: col,
                    offsetX: 8,
                    offsetY: 8
                });
            }
        });


    });
</script>

<div class="container">
    <?foreach($data['albums'] as $al) {?>
    <div class="grid">
        <div class="imgholder">
            <a href="/gallery/<?=$al->alias?>"><img
                    src="/content/gallery/small_<?=$data['photo_'.$al->_id]->img?>"/></a>
        </div>
        <strong><?=$al->title?></strong>
    </div>
    <?}?>
</div>